
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Phonon MAXene Database</title>
  <script src="https://3Dmol.csb.pitt.edu/build/3Dmol-min.js"></script>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <style>
    body { font-family: sans-serif; padding: 20px; }
    .material { margin-bottom: 60px; border-bottom: 1px solid #ccc; padding-bottom: 20px; }
    .viewer { width: 100%; height: 400px; margin-bottom: 20px; }
    .phonon { width: 100%; height: 400px; }
  </style>
</head>
<body>
  <h1>ðŸ“š Phonon MAXene Database</h1>
  <div id="materials"></div>

  <script>
    const materialList = ["Ti2C", "V2C"]; // Add more materials here, e.g., ["Ti2C", "V2C", "Nb2C"]

    const container = document.getElementById("materials");

    materialList.forEach(material => {
      const section = document.createElement("div");
      section.className = "material";
      section.innerHTML = `
        <h2>ðŸ§ª ${material}</h2>
        <h3>ðŸ”¬ Structure Viewer</h3>
        <div id="viewer-${material}" class="viewer"></div>
        <h3>ðŸ“ˆ Phonon Band Structure</h3>
        <div id="phonon-${material}" class="phonon"></div>
      `;
      container.appendChild(section);

      // Render 3Dmol.js structure viewer
      const viewer = $3Dmol.createViewer(`viewer-${material}`, { backgroundColor: "white" });
      $3Dmol.download(`materials/${material}/structure.cif`, viewer, {}, function () {
        viewer.setStyle({}, { stick: {}, sphere: { scale: 0.3 } });
        viewer.zoomTo();
        viewer.render();
      });

      // Fetch and render phonon band structure
      fetch(`materials/${material}/phonon_band.json`)
        .then(res => res.json())
        .then(data => {
          const traces = data.frequencies[0].map((_, i) => ({
            x: data.qpoints,
            y: data.frequencies.map(f => f[i]),
            mode: 'lines',
            line: { width: 1 },
            name: `Mode ${i + 1}`
          }));

          const layout = {
            title: "Phonon Dispersion",
            xaxis: { title: "q-point", showgrid: false },
            yaxis: { title: "Frequency (THz)" },
          };

          Plotly.newPlot(`phonon-${material}`, traces, layout);
        });
    });
  </script>
</body>
</html>
